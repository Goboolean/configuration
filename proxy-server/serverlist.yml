http:
  services:
    fetch-server:
      loadBalancer:
        servers:
          - url: "fetch-server.mulmuri.dev"
        passHostHeader: true

    command-server:
      loadBalancer:
        servers:
          - url: "command-server.mulmuri.dev"
        passHostHeader: true

    model-server:
      loadBalancer:
        servers:
          - url: "model-server.mulmuri.dev"
        passHostHeader: true

    ml-server:
      loadBalancer:
        servers:
          - url: "ml-server.mulmuri.dev"
        passHostHeader: true

    manager-cli:
      loadBalancer:
        servers:
          - url: "manager-cli.mulmuri.dev"
        passHostHeader: true

    client:
      loadBalancer:
        servers:
          - url: "client.mulmuri.dev"
        passHostHeader: true

    dashboard:
      loadBalancer:
        servers:
          - url: "localhost/dashboard/#/"
        passHostHeader: true

    portainer:
      loadBalancer:
        servers:
          -url: "portainer-portainer-1:9000"
        passHostHeader: true

  routers:
    fetch-server-router:
      rule: "Host(`fetch-server.mulmuri.dev`)"
      service: fetch-server
      entryPoints:
        - web

    command-server-router:
      rule: "Host(`command-server.mulmuri.dev`)"
      service: command-server
      entryPoints:
        - web

    model-server-router:
      rule: "Host(`model-server.mulmuri.dev`)"
      service: model-server
      entryPoints:
        - web
    ml-server-router:
      rule: "Host(`ml-server.mulmuri.dev`)"
      service: ml-server
      entryPoints:
        - web
    manager-cli-router:
      rule: "Host(`manager-cli.mulmuri.dev`)"
      service: manager-cli
      entryPoints:
        - web
    client-router:
      rule: "Host(`client.mulmuri.dev`)"
      service: client
      entryPoints:
        - web

    dashboard-router:
      rule: "Host(`dashboard.mulmuri.dev`)"
      service: dashboard
      entryPoints:
        - websecure
      tls:
        certResolver: letsencrypt

    portainer-router:
      rule: "Host(`portainer.mulmuri.dev`)"
      service: portainer
      entryPoints:
        - websecure
      tls:
        certResolver: letsencrypt